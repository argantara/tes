<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculator | Ryanda</title>

  <style>
    .input {
      margin-bottom: 10px;
      width: 180px;
      display: flex;
      justify-content: space-between;
    }

    .operation {
      width: 146px;
      display: flex;
      justify-content: space-between;
    }

    .line {
      display: block;
      width: 146px;
      height: 2px;
      border-radius: 1px;
      background-color: #888;
      margin: 20px 0;
    }
  </style>
</head>

<body>
  <form action="">
    <div class="input">
      <input type="text" name="" id="inp_num_1">
      <input type="checkbox" name="calc_this" id="cb_1" value="num_1">
    </div>
    <div class="input">
      <input type="text" name="" id="inp_num_2">
      <input type="checkbox" name="calc_this" id="cb_2" value="num_2">
    </div>
    <div class="input">
      <input type="text" name="" id="inp_num_3">
      <input type="checkbox" name="calc_this" id="cb_3" value="num_3">
    </div>
    <div class="operation">
      <input type="button" value="+" onclick="add_ops()">
      <input type="button" value="-" onclick="sub_ops()">
      <input type="button" value="x" onclick="mul_ops()">
      <input type="button" value="/" onclick="div_ops()">
    </div>
    <div class=" line"></div>
    <div class="result">
      <div>Hasil:</div>
      <div id="result"></div>
    </div>
  </form>
</body>

<script>
  // SET RESTRICTIONS TO ONLY ACCEPT NUMERICAL INPUT
  function setInputFilter(textbox, inputFilter) {
    ["input", "keydown", "keyup", "mousedown", "mouseup", "select", "contextmenu", "drop"].forEach(function (event) {
      textbox.addEventListener(event, function () {
        if (inputFilter(this.value)) {
          this.oldValue = this.value;
          this.oldSelectionStart = this.selectionStart;
          this.oldSelectionEnd = this.selectionEnd;
        } else if (this.hasOwnProperty("oldValue")) {
          this.value = this.oldValue;
          this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
        } else {
          this.value = "";
        }
      });
    });
  }
  setInputFilter(document.getElementById("inp_num_1"), function (value) {
    return /^-?\d*[.,]?\d*$/.test(value);
  });
  setInputFilter(document.getElementById("inp_num_2"), function (value) {
    return /^-?\d*[.,]?\d*$/.test(value);
  });
  setInputFilter(document.getElementById("inp_num_3"), function (value) {
    return /^-?\d*[.,]?\d*$/.test(value);
  });

  // BEGIN CALCULATION

  // ADDITION
  function add_ops() {
    let inpNum1 = parseFloat(document.getElementById("inp_num_1").value);
    let inpNum2 = parseFloat(document.getElementById("inp_num_2").value);
    let inpNum3 = parseFloat(document.getElementById("inp_num_3").value);
    let check1 = document.getElementById("cb_1").checked;
    let check2 = document.getElementById("cb_2").checked;
    let check3 = document.getElementById("cb_3").checked;

    if (check1 === false && check2 === false && check3 === false) {
      document.getElementById("result").innerHTML = "You need to input the number and check the box to calculate.";
    } else if (check1 === false && check2 === false && check3 === true) {
      document.getElementById("result").innerHTML = "To calculate this you need to check at least 2 boxes with number.";
    } else if (check1 === true && check2 === false && check3 === false) {
      document.getElementById("result").innerHTML = "To calculate this you need to check at least 2 boxes with number.";
    } else if (check1 === false && check2 === true && check3 === false) {
      document.getElementById("result").innerHTML = "To calculate this you need to check at least 2 boxes with number.";
    } else if (check1 === true && check2 === true && check3 === false) {
      document.getElementById("result").innerHTML = inpNum1 + inpNum2;
    } else if (check1 === false && check2 === true && check3 === true) {
      document.getElementById("result").innerHTML = inpNum2 + inpNum3;
    } else if (check1 === true && check2 === false && check3 === true) {
      document.getElementById("result").innerHTML = inpNum1 + inpNum3;
    } else {
      document.getElementById("result").innerHTML = inpNum1 + inpNum2 + inpNum3;
    }
  }
  // SUBTRACTION
  function sub_ops() {
    let inpNum1 = parseFloat(document.getElementById("inp_num_1").value);
    let inpNum2 = parseFloat(document.getElementById("inp_num_2").value);
    let inpNum3 = parseFloat(document.getElementById("inp_num_3").value);
    let check1 = document.getElementById("cb_1").checked;
    let check2 = document.getElementById("cb_2").checked;
    let check3 = document.getElementById("cb_3").checked;

    if (check1 === false && check2 === false && check3 === false) {
      document.getElementById("result").innerHTML = "You need to input the number and check the box to calculate.";
    } else if (check1 === false && check2 === false && check3 === true) {
      document.getElementById("result").innerHTML = "To calculate this you need to check at least 2 boxes with number.";
    } else if (check1 === true && check2 === false && check3 === false) {
      document.getElementById("result").innerHTML = "To calculate this you need to check at least 2 boxes with number.";
    } else if (check1 === false && check2 === true && check3 === false) {
      document.getElementById("result").innerHTML = "To calculate this you need to check at least 2 boxes with number.";
    } else if (check1 === true && check2 === true && check3 === false) {
      document.getElementById("result").innerHTML = inpNum1 - inpNum2;
    } else if (check1 === false && check2 === true && check3 === true) {
      document.getElementById("result").innerHTML = inpNum2 - inpNum3;
    } else if (check1 === true && check2 === false && check3 === true) {
      document.getElementById("result").innerHTML = inpNum1 - inpNum3;
    } else {
      document.getElementById("result").innerHTML = inpNum1 - inpNum2 - inpNum3;
    }
  }
  // MULTIPLICATION
  function mul_ops() {
    let inpNum1 = parseFloat(document.getElementById("inp_num_1").value);
    let inpNum2 = parseFloat(document.getElementById("inp_num_2").value);
    let inpNum3 = parseFloat(document.getElementById("inp_num_3").value);
    let check1 = document.getElementById("cb_1").checked;
    let check2 = document.getElementById("cb_2").checked;
    let check3 = document.getElementById("cb_3").checked;

    if (check1 === false && check2 === false && check3 === false) {
      document.getElementById("result").innerHTML = "You need to input the number and check the box to calculate.";
    } else if (check1 === false && check2 === false && check3 === true) {
      document.getElementById("result").innerHTML = "To calculate this you need to check at least 2 boxes with number.";
    } else if (check1 === true && check2 === false && check3 === false) {
      document.getElementById("result").innerHTML = "To calculate this you need to check at least 2 boxes with number.";
    } else if (check1 === false && check2 === true && check3 === false) {
      document.getElementById("result").innerHTML = "To calculate this you need to check at least 2 boxes with number.";
    } else if (check1 === true && check2 === true && check3 === false) {
      document.getElementById("result").innerHTML = inpNum1 * inpNum2;
    } else if (check1 === false && check2 === true && check3 === true) {
      document.getElementById("result").innerHTML = inpNum2 * inpNum3;
    } else if (check1 === true && check2 === false && check3 === true) {
      document.getElementById("result").innerHTML = inpNum1 * inpNum3;
    } else {
      document.getElementById("result").innerHTML = inpNum1 * inpNum2 * inpNum3;
    }
  }
  // DIVISION
  function div_ops() {
    let inpNum1 = parseFloat(document.getElementById("inp_num_1").value);
    let inpNum2 = parseFloat(document.getElementById("inp_num_2").value);
    let inpNum3 = parseFloat(document.getElementById("inp_num_3").value);
    let check1 = document.getElementById("cb_1").checked;
    let check2 = document.getElementById("cb_2").checked;
    let check3 = document.getElementById("cb_3").checked;

    if (check1 === false && check2 === false && check3 === false) {
      document.getElementById("result").innerHTML = "You need to input the number and check the box to calculate.";
    } else if (check1 === false && check2 === false && check3 === true) {
      document.getElementById("result").innerHTML = "To calculate this you need to check at least 2 boxes with number.";
    } else if (check1 === true && check2 === false && check3 === false) {
      document.getElementById("result").innerHTML = "To calculate this you need to check at least 2 boxes with number.";
    } else if (check1 === false && check2 === true && check3 === false) {
      document.getElementById("result").innerHTML = "To calculate this you need to check at least 2 boxes with number.";
    } else if (check1 === true && check2 === true && check3 === false) {
      document.getElementById("result").innerHTML = inpNum1 / inpNum2;
    } else if (check1 === false && check2 === true && check3 === true) {
      document.getElementById("result").innerHTML = inpNum2 / inpNum3;
    } else if (check1 === true && check2 === false && check3 === true) {
      document.getElementById("result").innerHTML = inpNum1 / inpNum3;
    } else {
      document.getElementById("result").innerHTML = inpNum1 / inpNum2 / inpNum3;
    }
  }
</script>

</html>